/////////////////////////////////////////////////////////////////
//	File:					DM.cpp
//	Application:	Lehasoft Dyna
//	Copyright:		Алексей Инкин, Lehasoft (1996-2002)
/////////////////////////////////////////////////////////////////

#include "StdAfx.h"
#include "DM.h"

BEGIN_MESSAGE_MAP(CDM, CDialog)
END_MESSAGE_MAP()

/////////////////////////////////////////////////////////////////
//
//	Function:			CDM::CDM()
//
/////////////////////////////////////////////////////////////////

CDM::CDM()
{
}

/////////////////////////////////////////////////////////////////
//
//	Function:			CDM::~CDM()
//
/////////////////////////////////////////////////////////////////

CDM::~CDM()
{
}

/////////////////////////////////////////////////////////////////
//
//	Function:			CDM::OnInitDialog()
//
/////////////////////////////////////////////////////////////////

BOOL CDM::OnInitDialog()
{
	CListBox			*lst;
	lst = (CListBox*)GetDlgItem(IDC_TEXTURES);
	lst->AddString("Трава");
	lst->AddString("Болото");
	lst->AddString("Вода");
	lst->AddString("Лес");

	return CDialog::OnInitDialog();
}

/////////////////////////////////////////////////////////////////
//
//	Function:			CDM::GetDMInfo()
//
/////////////////////////////////////////////////////////////////

void CDM::GetDMInfo(int				&nTexture,
										float			&fPrizes,
										float			&fMonsters)
{
	mnTexture		= nTexture;
	mfPrizes		= fPrizes;
	mfMonsters	= fMonsters;
	
	DoModal();

	nTexture		= mnTexture;
	fPrizes			= mfPrizes;
	fMonsters		= mfMonsters;
}

/////////////////////////////////////////////////////////////////
//
//	Function:			CDM::OnOK()
//
/////////////////////////////////////////////////////////////////

void CDM::OnOK()
{
	CListBox			*lst;
	lst = (CListBox*)GetDlgItem(IDC_TEXTURES);
	
	mnTexture = lst->GetCurSel();
	CDialog::OnOK();
}